

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PCell library &mdash; OLMAC PDK 0.0.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="hTron" href="hTron.html" />
    <link rel="prev" title="Layer Definitions" href="../layers.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> OLMAC PDK
          

          
          </a>

          
            
            
              <div class="version">
                0.0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layers.html">Layer Definitions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PCell library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-these-pcells">Using these PCells</a></li>
<li class="toctree-l2"><a class="reference internal" href="#self-tests">Self Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hTron.html">hTron</a></li>
<li class="toctree-l3"><a class="reference internal" href="led.html">W-center LED</a></li>
<li class="toctree-l3"><a class="reference internal" href="mmi1x2.html">1x2 MMI Y-splitter</a></li>
<li class="toctree-l3"><a class="reference internal" href="snspd.html">Waveguide integrated SNSPD</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../drc/index.html">Design Rule Checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xsection.html">Cross Sections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../properties/index.html">Platform Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zreferences.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">Todo</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OLMAC PDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>PCell library</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/src/cells/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pcell-library">
<span id="cells"></span><h1>PCell library<a class="headerlink" href="#pcell-library" title="Permalink to this headline">¶</a></h1>
<div class="section" id="using-these-pcells">
<h2>Using these PCells<a class="headerlink" href="#using-these-pcells" title="Permalink to this headline">¶</a></h2>
<p>PCells are specified in the phidl language in the “olmac_pcells” directory. phidl is open-source and available on PyPI, so anybody can instantiate their geometry (i.e. compile them) regardless of what layout software they choose to use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">phidl</span>
</pre></div>
</div>
<p>If you are just checking it out and want to see the GDS, compile with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">detectors</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>If you are using them in actual code, use a python interface. That would look like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_layout_script.py</span>
<span class="kn">import</span> <span class="nn">olmac_pcells</span>
<span class="n">phidlDevice</span> <span class="o">=</span> <span class="n">olmac_pcells</span><span class="o">.</span><span class="n">snspd</span><span class="p">(</span><span class="n">nanowire_width</span><span class="o">=.</span><span class="mi">15</span><span class="p">)</span>
<span class="n">phidlDevice</span><span class="o">.</span><span class="n">write_gds</span><span class="p">(</span><span class="s1">&#39;my_snspd.gds&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">my_preferred_geometry_package</span>
<span class="n">newDevice</span> <span class="o">=</span> <span class="n">my_preferred_geometry_package</span><span class="o">.</span><span class="n">load_gds</span><span class="p">(</span><span class="s1">&#39;my_snspd.gds&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In order to “import olmac_pcells”, that package has to be on your python path. For now, our preferred safe approach is to add these lines at the beginning of your script.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_layout_script.py</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">lygadgets</span> <span class="kn">import</span> <span class="n">klayout_home</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">klayout_home</span><span class="p">(),</span> <span class="s1">&#39;salt&#39;</span><span class="p">,</span> <span class="s1">&#39;soen_pdk&#39;</span><span class="p">,</span> <span class="s1">&#39;tech&#39;</span><span class="p">,</span> <span class="s1">&#39;OLMAC&#39;</span><span class="p">))</span>
<span class="kn">import</span> <span class="nn">olmac_pcells</span>
<span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We are still deliberating whether it is wise to install pcells system-wide and how to prevent possible name clashes if so. Stay tuned.</p>
</div>
</div>
<div class="section" id="self-tests">
<h2>Self Tests<a class="headerlink" href="#self-tests" title="Permalink to this headline">¶</a></h2>
<p>The cells are self-testing to ensure that their geometry does not change unexpectedly. Fixed reference layouts are tracked in the <code class="docutils literal notranslate"><span class="pre">ref_layouts</span></code> directory. A test consists of running the code and comparing the resulting layout to the reference layout. This is all handled by <a class="reference external" href="https://github.com/atait/lytest">lytest</a>.</p>
<p>Tests are run from the top SOEN-PDK directory with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">test</span>
</pre></div>
</div>
<p>The reason for doing is is to allow for frequent updates to the PDK. Code should be able to change (e.g. better implementation, additional arguments). It is, of course, very bad if those changes result in geometry changes affecting your layouts. Self-testing that is performed automatically offers an assurance that you can count on those pcells being exactly the same, at least for the tested arguments.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Available PCells</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hTron.html">hTron</a></li>
<li class="toctree-l1"><a class="reference internal" href="led.html">W-center LED</a></li>
<li class="toctree-l1"><a class="reference internal" href="mmi1x2.html">1x2 MMI Y-splitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="snspd.html">Waveguide integrated SNSPD</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hTron.html" class="btn btn-neutral float-right" title="hTron" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../layers.html" class="btn btn-neutral" title="Layer Definitions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 Faint Photonics Group and Quantum Nanophotonics Group, National Institute of Standards and Technology, Boulder, CO, United States

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>